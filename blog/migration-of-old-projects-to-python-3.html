<!doctype html> <html lang="en" class="no-js"> <head> <meta charset="utf-8"> <title>Migration of Old Projects to Python 3 - Mostafa’s personal blog</title> <meta name="description" content="How to deal with 2to3, tests, incompatibilities and dependencies"> <meta name="author" content="Mostafa Moradian"> <meta property="og:type" content="article"> <meta property="og:locale" content="en_US"> <meta property="og:site_name" content="Mostafa's personal blog"> <meta property="og:title" content="Migration of Old Projects to Python 3"> <meta property="og:url" content="https://medium.com/swlh/migration-of-old-projects-to-python-3-ca4b8b59d59b"> <meta property="og:description" content="How to deal with 2to3, tests, incompatibilities and dependencies"> <meta property="og:image" content="https://mostafa.dev/assets/images/python-old-project-migration-cover-image.jpg"> <meta name="twitter:site" content="@mosimoradian"> <meta name="twitter:title" content="Migration of Old Projects to Python 3"> <meta name="twitter:description" content="How to deal with 2to3, tests, incompatibilities and dependencies"> <meta name="twitter:url" content="https://medium.com/swlh/migration-of-old-projects-to-python-3-ca4b8b59d59b"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://mostafa.dev/assets/images/python-old-project-migration-cover-image.jpg"> <meta property="article:published_time" content="2019-08-03T00:00:00+02:00"> <meta property="article:modified_time" content="2020-06-05T00:00:00+02:00"> <link rel="canonical" href="https://medium.com/swlh/migration-of-old-projects-to-python-3-ca4b8b59d59b"> <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://mostafa.dev/",
      "sameAs": ["https://twitter.com/MosiMoradian","https://instagram.com/mostafa_moradian","https://www.linkedin.com/in/mostafa-moradian","https://www.medium.com/@mostafamoradian","https://www.github.com/mostafa"]
    
  }
</script> <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Mostafa's personal blog Feed"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <script>document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/g,"")+" js ";</script> <link rel="stylesheet" href="/assets/css/main.css"> <!--[if IE]><style>.greedy-nav .site-title{padding-right:3em}.greedy-nav button{position:absolute;top:0;right:0;height:100%}</style><![endif]--> </head> <body class="layout--single"> <nav class="skip-links"> <h2 class="screen-reader-text">Skip links</h2> <ul> <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li> <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li> <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li> </ul> </nav> <!--[if lt IE 9]><div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]--> <div class="masthead"> <div class="masthead__inner-wrap"> <div class="masthead__menu"> <nav id="site-nav" class="greedy-nav"> <a class="site-title" href="/"> Mostafa's personal blog <span class="site-subtitle">Version 0.4.3</span> </a> <ul class="visible-links"><li class="masthead__menu-item"> <a href="/">Home</a> </li><li class="masthead__menu-item"> <a href="/blog/">Blog</a> </li><li class="masthead__menu-item"> <a href="/resume/">Resume</a> </li></ul> <button class="search__toggle" type="button"> <span class="visually-hidden">Toggle search</span> <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16"> <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path> </svg> </button> <button class="greedy-nav__toggle hidden" type="button"> <span class="visually-hidden">Toggle menu</span> <div class="navicon"></div> </button> <ul class="hidden-links hidden"></ul> </nav> </div> </div> </div> <div class="initial-content"> <div class="page__hero" style=" background-image: url('');"> <img src="/assets/images/python-old-project-migration-cover-image.jpg" alt="Migration of Old Projects to Python 3" class="page__hero-image"> </div> <div id="main" role="main"> <article class="page" itemscope itemtype="https://schema.org/CreativeWork"> <meta itemprop="headline" content="Migration of Old Projects to Python 3"> <meta itemprop="description" content="A while ago I’ve self-assigned the daunting task of migrating an ancient API project written in Python 2.7 and Django to the latest stable Python 3.7 and Django 2.2. What at first seemed to be a piece of cake, turned out to be a Hydra, the multi-headed dragon, with its dependencies acting like an octopus."> <meta itemprop="datePublished" content="2019-08-03T00:00:00+02:00"> <meta itemprop="dateModified" content="2020-06-05T00:00:00+02:00"> <div class="page__inner-wrap"> <header> <h1 id="page-title" class="page__title" itemprop="headline">Migration of Old Projects to Python 3 </h1> <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 9 minute read </p> </header> <section class="page__content" itemprop="text"> <aside class="sidebar__right "> <nav class="toc"> <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Table of Contents</h4></header> <ul class="toc__menu"> <li><a href="#methodology">Methodology</a></li> <li><a href="#recommendations">Recommendations</a> <ul> <li><a href="#1-use-branching-to-isolate-changes">1. Use branching to isolate changes</a></li> <li><a href="#2-upgrade-everything-to-latest-version-supported-by-python-27">2. Upgrade everything to latest version supported by Python 2.7</a></li> <li><a href="#3-monitor-tests-continuous-integration-and-coverage">3. Monitor tests, Continuous Integration and coverage</a></li> <li><a href="#4-run-2to3-on-your-code-base">4. Run 2to3 on your code-base</a></li> <li><a href="#5-change-your-interpreter-and-package-manager">5. Change your interpreter and package manager</a></li> <li><a href="#6-upgrade-your-dependencies">6. Upgrade your dependencies</a></li> <li><a href="#7-upgrade-django-and-drf-to-latest-version">7. Upgrade Django and DRF to latest version</a></li> </ul> </li> </ul> </nav> </aside> <p>A while ago I’ve self-assigned the daunting task of migrating an ancient API project written in Python 2.7 and Django to the latest stable Python 3.7 and Django 2.2. What at first seemed to be a piece of cake, turned out to be a Hydra, the multi-headed dragon, with its dependencies acting like an octopus.</p> <p>I should admit that it was no easy task. I remember days I was banging my head to get that tiny fix to work as expected. But it all went well, hopefully, and I was able to migrate the project into an almost stable piece of code that just works.</p> <p>As far as I know, the <a href="https://pythonclock.org/">countdown</a> of sunsetting of Python 2.7 is nearer than it appears. It sadly means that the version 2 flavor of Python won’t be maintained beyond 1st January 2020, which is inevitable. This date would be the official end of life of Python 2. This calls to an action to try to avoid it in the very near future for all companies using it.</p> <p>The maintainers and the community worked hard to make everything compatible with the new Python 3 counterpart. The <a href="http://py3readiness.org/">readiness score</a> of Python 3 packages compatibility is eye-catching and a growing number of packages already has support for both version, while some completely switched to Python 3, specially those libraries written for newly widespread platforms, like shiny new database drivers. There is a <a href="https://python3statement.org/">timeline</a> for many important packages that will Python 3, and would drop support for the old Python 2.</p> <p>Writing code against both flavors of Python and maintaining that code-base is really hard, since the <a href="https://galorath.com/software-maintenance-costs/">maintenance cost</a> is high. It is even more costly when you want to develop a library, since actual projects can stick with a specific flavor. There is always a trade-off between choosing the old version and having the latest greatest features. This being said, so much can be ported to the old version, and eventually portability becomes an issue itself. For almost every single package you find in Python 3, either in the standard library or in third-parties, there is a backport to Python 2, but <a href="https://www.reddit.com/r/Python/comments/41wl2t/libraries_that_support_python_3x_but_not_27/">this doesn’t hold true for the new features of Python 3</a>. Two simple example would be the very great <a href="https://docs.python.org/3/library/asyncio.html">asyncio</a> and <a href="https://aiohttp.readthedocs.io/en/stable/">aiohttp</a> libraries.</p> <p>As I said above, migration is no easy task, meaning that you cannot just change your interpreter version in your configuration file and headers and expect it to work right away. You should plan, analyze and iterate through the code-base to have everything migrated. I’ll explain each in greater details.</p> <p>In the middle of doing this, I felt the need to have some search mechanism that can understand the structure of the Python code, so that I’ll be able to search inside imports in each file in the project, in order to able to understand where each module is actually used. So I’ve written a script that maps all python files inside the project to a nested dictionary, with its values being imports in that specific file. It then gives me the ability to search with a XPath-like syntax (via <a href="https://pypi.org/project/dpath/">dpath</a>). I’ll make it available soon as FOSS. It’s called “<em>Algae</em>”.</p> <h3 id="methodology">Methodology</h3> <p><img src="/assets/images/python-old-project-migration-life-cycle.jpg" alt=""/></p> <p>Planning involves knowing the extent you wish your project to be updated. Sometimes you want to stick with an LTS version of some library and other times you want the latest cutting-edge features. This trade-off of stability versus trendiness is what to look for while planning for the migration.</p> <p>This planning should also take into account the business side, although the focus of this article is on the engineering complications. Some changes should be organized and changed with the help of different departments. Otherwise it just won’t work. You’re going to deliver the same value or more to the customer, while decreasing technical debt and maintenance costs.</p> <p>Analysis is the next step. You probably are already familiar with the project you are working on, or at least have worked on some parts of it and you know what it does. Analysis is to know what to keep, update or get rid of. Sometimes the project has grown organically and you no longer use some parts of it, like old API versions. Now is a good time to rethink. Sometimes a rewrite would be a more viable option, since the code-base is so messy that you no longer want to touch it. Other times, polishing and migration of the same code-base is easier and less costly. Whichever path you take would reveal your next moves.</p> <p>Some changes include update to the backend services, like an update to a database driver that no longer supports outdated versions of that database. Some would break the tests, undoubtedly. This is what to expect while analyzing your code-base. You can’t just update the code and expect it to work without touching anything else. You have to think about it thoroughly.</p> <p>Iteration is the actual work you want to do to ensure that you have an up-to-date application. It is called iteration, since you cannot move everything all at once. It is truly infeasible. Just don’t!</p> <p>On each iteration, you actually take action by changing each part meticulously. Some parts are easy to change and require minimal amount of work, like updating small functional dependencies. Yet there are parts that require a lot of effort and time to change and test.</p> <h3 id="recommendations">Recommendations</h3> <h4 id="1-use-branching-to-isolate-changes">1. Use branching to isolate changes</h4> <p>Each change should go into a new branch, e.g. git branch. This is to decrease clutter and friction with other parts. This would help narrow down the scope of change and would help you easily revert breaking or malfunctioning changes.</p> <p>It is okay to build on top of the same change by sub-branching from the same branch you used to work on, and which is tested and worked as expected. You cannot push people to review your code changes, although being subjective, except the company’s future depends on it.</p> <h4 id="2-upgrade-everything-to-latest-version-supported-by-python-27">2. Upgrade everything to latest version supported by Python 2.7</h4> <p>The first iteration, besides version control and branching, would be to update dependencies to the latest version supported by Python 2.7. This helps find some bugs and alleviate many headaches afterwards. For example, the latest long-term support (LTS) version of Django supporting Python 2.7 is <a href="https://upgradedjango.com/1.11/">1.11.x</a> and of Django REST Framework is <a href="https://www.django-rest-framework.org/community/release-notes/#39x-series">3.9.x</a>. This means that the official support for these libraries on Python 2.7 is dropped and no longer available. It’s safe to say that upgrading to these versions has the least friction, unless your existing Django and DRF is ancient and unsupported.</p> <p>Sometimes the changes in each version of Django and/or DRF is not backward compatible, so you have to keep an eye on Release Notes and Changelogs to adapt your code to the new changes.</p> <h4 id="3-monitor-tests-continuous-integration-and-coverage">3. Monitor tests, Continuous Integration and coverage</h4> <p>In this step, you should ensure that your tests pass and your coverage is not decreased dramatically. One of the biggest technical debts are not having enough tests, which would come to surface with users complaining about failures and developers seeing flaky test runs while updating code.</p> <p>If that’s the case, consider writing more tests and invest more on CI workflows and pipelines. Of investment, I don’t necessarily mean money. Sometimes correcting a broken pipeline would help alleviate many issues in the future.</p> <p>The next step is to monitor your test results to see if there are errors and warnings related to your code. Yes, I’ve seen tests pass, having many errors and warnings that are simply ignored. Test runner should be chosen wisely. Although the “unittest” standard library module is feature-rich, I do prefer “pytest” as a more flexible and extendable counterpart. This obviously doesn’t stop you from choosing your preferred test suite or even writing your own.</p> <p>Your tests should not only include unittests. Integration, E2E, acceptance and performance test are just some of all the available test methodologies.</p> <h4 id="4-run-2to3-on-your-code-base">4. Run 2to3 on your code-base</h4> <p>After upgrading to the latest versions supported on Python 2.7 and testing to see if everything’s in order, now is the time to run the 2to3 tool on your code-base. This is a tool provided as part of the Python standard library to read the Python 2.x source code and transform them into a valid Python 3.x source code, through the so-called <a href="https://docs.python.org/3.7/library/2to3.html#fixers"><em>fixers</em></a>. Fixers are changes to the syntax and semantics of the source code from Python 2.x to 3.x. For example, in Python 2.x, it is not necessary to have parenthesis around the print function, but such functions no longer exist in Python 3.x. So the <em>print</em> fixer converts print function to print() all over your source code. Test again and again and make sure not to mess things up by not using branching.</p> <p><em>Update:</em> a <a href="https://www.reddit.com/r/Python/comments/clugax/migration_of_old_projects_to_python_3_how_to_deal/evyutsc?utm_source=share&amp;utm_medium=web2x">user on reddit commented</a> that we could use <a href="https://pypi.org/project/modernize/">modernize</a> instead, to be able to spot more conversion errors, specially Unicode-related ones.</p> <h4 id="5-change-your-interpreter-and-package-manager">5. Change your interpreter and package manager</h4> <p>Now is the time to change your Python version to 3.7. Usually this is done by either installing it using a package manager, like APT, or just changing your Dockerfile FROM statement to include python:3.7.</p> <p>This is the trickiest part, since many tests may fail, due to incompatible requirements and dependencies.</p> <p>I do also recommend you to upgrade your package manager, pip, to the latest version.</p> <h4 id="6-upgrade-your-dependencies">6. Upgrade your dependencies</h4> <p>It is a good idea to check your dependencies before upgrade by running <a href="https://pypi.org/project/pipdeptree/">pipdeptree</a> on the requirements.txt file to detect circular and conflicting dependencies. The next best tool is the <a href="https://pypi.org/project/pur/">pip-update-requirements</a> that helps you upgrade all dependencies in the requirements.txt file.</p> <p>Some dependencies are not easily upgradable, either because they are no longer supported anymore, specially on Python 3.x, or newer libraries have replaced them. For example, <a href="https://pypi.org/project/pycassa/">pycassa</a> is an old database driver for Cassandra supporting only Python 2.x, with <a href="https://github.com/pycassa/pycassa">its last commit on 17 January 2017</a>, which only supports Thrift protocol and there is no CQL support. But the official <a href="https://pypi.org/project/cassandra-driver/">DataStax Python Driver</a> replaced it deliberately supporting 2.7 and 3.x, which is easier to use and has more features and also is based on CQL.</p> <p>Some other libraries have different issues. For example, python-social-auth package is deprecated and you should upgrade all your dependencies to social-auth-core and social-auth-app-django, in which you have to change many parts of the settings.py and your imports.</p> <p>Some other libraries are replaced with better counterparts. For example, the python-memcached library has many other more up-to-date alternatives like pymemcache or pylibmc.</p> <h4 id="7-upgrade-django-and-drf-to-latest-version">7. Upgrade Django and DRF to latest version</h4> <p>The Django <a href="https://docs.djangoproject.com/en/dev/internals/release-process/">release process</a> is a good resource for knowing what to use and when to deprecate and get rid of old versions. The release roadmap on <a href="https://www.djangoproject.com/download/">Django download page</a> will give you a very quick view into the lifetime of each version. This roadmap is frequently updated as releases become available. Below you can see two different version:</p> <p><img src="/assets/images/django-release-roadmap-old.jpg" alt=""/></p> <p><img src="/assets/images/django-release-roadmap-new.jpg" alt=""/></p> <p class="text-center">Credits: <a href="https://www.djangoproject.com/download/">https://www.djangoproject.com/download/</a></p> <p>As of now, the latest LTS version of Django that only supports Python 3.x is 2.2.x and the latest version of DRF is 3.10.x.</p> <p>If you could eventually pass step 6, you can almost easily upgrade these versions and test if everything holds together.</p> <p>Upgrading Django from 1.11.x to 2.x is a lot more painful than I thought it would be and it needs more time to be invested to get everything work correctly. There are removals, deprecations and changes that you should be aware of, to not break your system. Consider doing the upgrade step by step, otherwise you’ll be in big trouble hunting multiple unrelated bugs and the whole process would quickly become exhausting.</p> <p>I hope you got an overview of what to expect while upgrading your Django and DRF application to the latest versions supported by Python 3.7. If you have any questions, comments or improvements, I’ll be really glad to hear them.</p> </section> <footer class="page__meta"> <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-06-05">June 5, 2020</time></p> </footer> <section class="page__share"> <a href="https://twitter.com/intent/tweet?via=mosimoradian&text=Migration+of+Old+Projects+to+Python+3%20https%3A%2F%2Fmostafa.dev%2Fblog%2Fmigration-of-old-projects-to-python-3" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmostafa.dev%2Fblog%2Fmigration-of-old-projects-to-python-3" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fmostafa.dev%2Fblog%2Fmigration-of-old-projects-to-python-3" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a> </section> <nav class="pagination"> <a href="/blog/employment-contract" class="pagination--pager" title="Employment Contract ">Previous</a> <a href="/blog/integrating-k6-with-apache-kafka" class="pagination--pager" title="Integrating k6 with Apache Kafka ">Next</a> </nav> </div> <div class="page__comments"> <h4 class="page__comments-title">Comments</h4> <section id="disqus_thread"></section> </div> </article> <div class="page__related"> <h4 class="page__related-title">You May Also Enjoy</h4> <div class="grid__wrapper"> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <h2 class="archive__item-title" itemprop="headline"> <a href="/blog/devrel-content-strategies" rel="permalink">DevRel Content Strategies </a> </h2> <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 1 minute read </p> <p class="archive__item-excerpt" itemprop="description">The very first developer relations online meetup of Stockholm was streamed live on Facebook on April 15, 2020. It was also recorded and later published on Yo...</p> </article> </div> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <h2 class="archive__item-title" itemprop="headline"> <a href="/blog/load-testing-your-api-with-postman" rel="permalink">Load Testing Your API with Postman </a> </h2> <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 10 minute read </p> <p class="archive__item-excerpt" itemprop="description">In this article, I’ll explain how to use a Postman collection I have created to load test our instance of our test API. The process is pretty straightforward...</p> </article> </div> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <h2 class="archive__item-title" itemprop="headline"> <a href="/blog/load-testing-your-api-with-swagger-openapi-and-k6" rel="permalink">Load Testing Your API with Swagger/OpenAPI and k6 </a> </h2> <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 7 minute read </p> <p class="archive__item-excerpt" itemprop="description">Generating k6 scripts from Swagger/OpenAPI specifications has never been easier. Using the newly built k6 generator, you can convert your API specification t...</p> </article> </div> <div class="grid__item"> <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork"> <h2 class="archive__item-title" itemprop="headline"> <a href="/blog/microvm-another-level-of-abstraction-for-serverless-computing" rel="permalink">microVM: Another Level of Abstraction for Serverless Computing </a> </h2> <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 3 minute read </p> <p class="archive__item-excerpt" itemprop="description">For years, cloud computing was a way to convince users and business to spend their money hosting their services on servers collocated on cloud data-centers. ...</p> </article> </div> </div> </div> </div> </div> <div class="search-content"> <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';"> <label class="sr-only" for="search"> Enter your search term... </label> <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..."/> </form> <div id="results" class="results"></div></div> </div> <div id="footer" class="page__footer"> <footer> <div class="page__footer-follow"> <ul class="social-icons"> <li><a href="https://mostafa.dev" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Mostafa.DEV</a></li> <li><a href="https://twitter.com/mosimoradian" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li> <li><a href="https://github.com/mostafa" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li> <li><a href="https://instagram.com/mostafa_moradian" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li> <li><a href="https://www.linkedin.com/in/mostafa-moradian" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li> <li><a href="https://www.medium.com/@mostafamoradian" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-medium" aria-hidden="true"></i> Medium</a></li> <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li> </ul> </div> <div class="page__footer-copyright">&copy; 2020 Mostafa's personal blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> </footer> </div> <script src="/assets/js/main.min.js"></script> <script src="https://kit.fontawesome.com/4eee35f757.js"></script> <script src="/assets/js/lunr/lunr.min.js"></script> <script src="/assets/js/lunr/lunr-store.js"></script> <script src="/assets/js/lunr/lunr-en.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-167412694-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-167412694-1",{anonymize_ip:!0});</script> <script>var disqus_config=function(){this.page.url="https://mostafa.dev/blog/migration-of-old-projects-to-python-3",this.page.identifier="/blog/migration-of-old-projects-to-python-3"};!function(){var t=document,e=t.createElement("script");e.src="https://mostafa-dev.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </body> </html>